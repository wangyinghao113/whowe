{"version":3,"sources":["webpack:///./src/assets/images/waterfall/works1.jpg","webpack:///src/pages/waterfall/Index.vue","webpack:///./src/assets/images/waterfall/works4.jpg","webpack:///./src/assets/images/waterfall/works5.jpg","webpack:///./src/assets/images/waterfall/works3.jpg","webpack:///./src/pages/waterfall/Index.vue?329b","webpack:///./src/pages/waterfall/Index.vue","webpack:///./src/assets/images/waterfall/works2.jpg"],"names":["module","exports","__webpack_require__","p","__webpack_exports__","data","msg","share","components","Topmenu","__WEBPACK_IMPORTED_MODULE_0__components_topmenu_index_vue__","mounted","flow","mh","mv","w","$","window","width","ul","li","liw","eq","outerWidth","c","Math","floor","lilength","length","lenArr","i","push","outerHeight","st","oArr","css","top","left","opacity","x","_getMinKey","onscroll","document","documentElement","scrollTop","body","clientHeight","re","arr","a","b","k","onload","onresize","clearTimeout","setTimeout","waterfall_Index","render","_h","this","$createElement","_c","_self","staticClass","attrs","child-msg","_v","_m","staticRenderFns","_vm","src","__vue_styles__","ssrContext","Component","normalizeComponent","Index"],"mappings":"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","file":"static/js/2.3acb6bac26e503337e4d.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/works1.795c64c.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/waterfall/works1.jpg\n// module id = DYJQ\n// module chunks = 2","<template>\r\n    <div class=\"main\">\r\n        <Topmenu :child-msg=\"msg\"></Topmenu>\r\n    <ul>\r\n        <li><img src=\"@/assets/images/waterfall/works1.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works2.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works3.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works4.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works5.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works3.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works4.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works1.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works5.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works2.jpg\"><p>啦啦啦啦啦</p></li>\r\n        <li><img src=\"@/assets/images/waterfall/works1.jpg\"><p>啦啦啦啦啦</p></li>\r\n    </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Topmenu from '@/components/topmenu/index.vue';\r\nexport default {\r\n    data(){\r\n    return {\r\n        msg: '瀑布流',\r\n        share: true,\r\n    };\r\n  },\r\n    components:{\r\n        Topmenu\r\n    },\r\n     mounted(){\r\n      \r\n          $(function(){\r\n      \r\n            window.onload = function(){\r\n          \r\n                flow(10,10);\r\n            }\r\n          });\r\n        //计算页面的宽度，计算出页面可放数据块的列数\r\n        function flow(mh,mv) { \r\n             //参数mh和mv是定义数据块之间的间距，mh是水平距离，mv是垂直距离\r\n            var w = $(window).width();  //获取页面的宽度\r\n            var ul = $(\".main ul\");\r\n            var li = $(\".main ul li\");\r\n            var liw = li.eq(0).outerWidth()+mh; //计算数据块的宽度\r\n            var c = Math.floor(w / liw);  //计算列数\r\n            ul.width(liw * c - mh + \"px\");  //设置ul的宽度至适合便可以利用css定义的margin把所有内容居中\r\n            //将各个数据块的高度尺寸记入数组中\r\n            var lilength = li.length;\r\n            var lenArr = [];\r\n            for(var i=0;i<li.length;i++){  //遍历每一个数据块将高度记入数组\r\n                lenArr.push(li.eq(i).outerHeight());\r\n            }\r\n\r\n            var oArr = [];\r\n            for(var i=0;i<c;i++){  //把第一行排放好，并将每一列的高度记入数据oArr\r\n                li.eq(i).css({top:0,left:liw*i+\"px\",opacity:1});\r\n                oArr.push(lenArr[i]);\r\n            }\r\n\r\n            for(var i=c;i<lilength;i++){  //将其他数据块定位到最短的一列后面，然后再更新该列的高度\r\n                var x = _getMinKey(oArr);  //获取最短的一列的索引值\r\n                li.eq(i).css({top:oArr[x]+mv+\"px\",left:liw*x+\"px\",opacity:1});\r\n                oArr[x]=lenArr[i]+oArr[x]+mv; //更新该列的高度\r\n            }\r\n            //$(\"#loadimg\").css({top: _getMaxValue(oArr) + 50 + \"px\"});  //将loading移到下面\r\n            function scroll(){\r\n                var st = oArr[_getMinKey(oArr)];\r\n                var scrollTop = document.documentElement.scrollTop > document.body.scrollTop? document.documentElement.scrollTop : document.body.scrollTop;\r\n                if (scrollTop >= st - document.documentElement.clientHeight) {\r\n                    window.onscroll = null;//为防止重复执行，先清除事件\r\n                    // $.ajax({  //当滚动到达最短的一列的距离时便发送ajax请求新的数据，然后执行回调函数\r\n                    //     url:\"json.json\",\r\n                    //     type:\"post\",\r\n                    //     success:function(data){\r\n                    //         var data = data.json;\r\n                    //         addItem(data,function(){\r\n                    //             var liLenNew = $(\"li\").length;\r\n                    //             for(var i = lilength; i < liLenNew; i++) {\r\n                    //                 lenArr.push($(\"li\").eq(i).outerHeight());\r\n                    //             }\r\n                    //             for(var i = lilength; i < liLenNew; i++) {\r\n                    //                 var x = _getMinKey(oArr);  //获取最短的一列的索引值\r\n                    //                 $(\"li\").eq(i).css({top:oArr[x]+mv+\"px\",left:liw*x+\"px\",opacity:1});\r\n                    //                 oArr[x]=lenArr[i]+oArr[x]+mv; //更新该列的高度\r\n                    //                 console.log(lenArr[i]);\r\n                    //                 console.log(oArr[x]);\r\n                    //             }\r\n                    //             document.getElementById(\"loadimg\").style.top = _getMaxValue(oArr) + 50 + \"px\";//loading向下移位\r\n                    //             lilength = liLenNew;\r\n                    //             window.onscroll = scroll;//执行完成，恢愎onscroll事件\r\n                    //         })\r\n                    //     },\r\n                    //     error:function(err){\r\n                    //         console.log(err);\r\n                    //     }\r\n                    // })\r\n                }\r\n            }\r\n            window.onscroll = scroll();\r\n        }\r\n        function addItem(arr,callback){\r\n            var str = '';\r\n            var a = 0;\r\n            var len = arr.length;\r\n            (function loading(){\r\n                var img = new Image();\r\n                img.onload = function() {\r\n                    a += 1;\r\n                    if (a == len) {\r\n                        for (var k in arr) {\r\n                            var img = new Image();\r\n                            img.src = arr[k].img;\r\n                            str += '<li><img src=\"' + arr[k].img + '\" /><p>' + arr[k].title + '</p></li>';\r\n                        }\r\n                        $(\"ul\").append(str);\r\n                        callback();\r\n                    }\r\n                    else {\r\n                        loading();\r\n                    }\r\n                }\r\n                img.src = arr[a].img;\r\n            })()\r\n        }\r\n        //改变窗口大小时重新布局\r\n        var re;\r\n        window.onresize = function() {\r\n            clearTimeout(re);\r\n            re = setTimeout(function() {flow(10, 10);}, 200);\r\n        }\r\n        //获取数字数组的最大值\r\n        function _getMaxValue(arr) {\r\n            var a=arr[0];\r\n            for(var k in arr){\r\n                if(arr[k] > a){\r\n                    a=arr[k];\r\n                }\r\n            }\r\n            return a;\r\n        }\r\n        //获取数字数组最小值的索引\r\n        function _getMinKey(arr) {\r\n            var a = arr[0];\r\n            var b = 0;\r\n            for (var k in arr) {\r\n                if (arr[k] < a) {\r\n                    a = arr[k];\r\n                    b = k;\r\n                }\r\n            }\r\n            return b;\r\n        }\r\n     },\r\n     \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scopend>\r\n.main{\r\n    ul{\r\n        margin:10px auto;\r\n        position:relative;\r\n        li{\r\n            width:3.4rem;\r\n            padding:10px;\r\n            position:absolute;\r\n            box-shadow:0px 0px 15px #ddd;\r\n            list-style:none;\r\n            // opacity:0;\r\n            // -moz-opacity:0;\r\n            // filter:alpha(opacity=0);\r\n            -webkit-transition:opacity 500ms ease-in-out;\r\n            -moz-transition:opacity 500ms ease-in-out;\r\n            -o-transition:opaicty 500ms ease-in-out;\r\n            transition:opaicty 500ms ease-in-out;\r\n            img{\r\n            width:100%;\r\n            height:100%;\r\n            object-fit:cover;\r\n           }\r\n        p{\r\n            width:100%;\r\n            text-align:center;\r\n            font-size:14px;\r\n            color:#333;\r\n            line-height:18px;\r\n            margin-top:10px;\r\n           }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/waterfall/Index.vue","module.exports = __webpack_public_path__ + \"static/img/works4.3eec536.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/waterfall/works4.jpg\n// module id = T8XT\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/img/works5.e01a32a.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/waterfall/works5.jpg\n// module id = rUk+\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/img/works3.3befc72.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/waterfall/works3.jpg\n// module id = su/7\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('Topmenu',{attrs:{\"child-msg\":_vm.msg}}),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works1.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works2.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works3.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works4.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works5.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works3.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works4.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works1.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works5.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works2.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])]),_vm._v(\" \"),_c('li',[_c('img',{attrs:{\"src\":require(\"@/assets/images/waterfall/works1.jpg\")}}),_c('p',[_vm._v(\"啦啦啦啦啦\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4cea1850\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/waterfall/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4cea1850\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4cea1850\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/waterfall/Index.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/works2.26edb51.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/waterfall/works2.jpg\n// module id = xXHR\n// module chunks = 2"],"sourceRoot":""}